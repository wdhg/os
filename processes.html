<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Processes - Operating Systems</title>
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        
        <link rel="stylesheet" href="css/print.css" media="print">
        

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="preface.html"><strong aria-hidden="true">1.</strong> Preface</a></li><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">2.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="processes.html" class="active"><strong aria-hidden="true">3.</strong> Processes</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="processes/unix.html"><strong aria-hidden="true">3.1.</strong> UNIX Processes</a></li><li class="chapter-item expanded "><a href="processes/windows.html"><strong aria-hidden="true">3.2.</strong> Windows Processes</a></li><li class="chapter-item expanded "><a href="processes/communication.html"><strong aria-hidden="true">3.3.</strong> Process Communication</a></li></ol></li><li class="chapter-item expanded "><a href="threads.html"><strong aria-hidden="true">4.</strong> Threads</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="threads/posix.html"><strong aria-hidden="true">4.1.</strong> PThreads (POSIX Threads)</a></li><li class="chapter-item expanded "><a href="threads/user-kernel.html"><strong aria-hidden="true">4.2.</strong> User-Level and Kernel-Level Threads</a></li></ol></li><li class="chapter-item expanded "><a href="scheduling.html"><strong aria-hidden="true">5.</strong> Scheduling</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="scheduling/fcfs.html"><strong aria-hidden="true">5.1.</strong> First-Come First-Served</a></li><li class="chapter-item expanded "><a href="scheduling/rr.html"><strong aria-hidden="true">5.2.</strong> Round-Robin</a></li><li class="chapter-item expanded "><a href="scheduling/sjf-srt.html"><strong aria-hidden="true">5.3.</strong> Shortest Job First and Shortest Remaining Time</a></li><li class="chapter-item expanded "><a href="scheduling/fs.html"><strong aria-hidden="true">5.4.</strong> Fair-Share Scheduling</a></li><li class="chapter-item expanded "><a href="scheduling/priority.html"><strong aria-hidden="true">5.5.</strong> Priority Scheduling</a></li><li class="chapter-item expanded "><a href="scheduling/mlfqs.html"><strong aria-hidden="true">5.6.</strong> Multilevel Feedback Queues (MLFQS)</a></li><li class="chapter-item expanded "><a href="scheduling/lottery.html"><strong aria-hidden="true">5.7.</strong> Lottery Scheduling</a></li></ol></li><li class="chapter-item expanded "><a href="synchronisation.html"><strong aria-hidden="true">6.</strong> Synchronisation</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="synchronisation/mutual-exclusion.html"><strong aria-hidden="true">6.1.</strong> Attempts at Gaining Mutual Exclusion</a></li><li class="chapter-item expanded "><a href="synchronisation/atomics.html"><strong aria-hidden="true">6.2.</strong> Atomic Operations</a></li><li class="chapter-item expanded "><a href="synchronisation/locks.html"><strong aria-hidden="true">6.3.</strong> Locks</a></li><li class="chapter-item expanded "><a href="synchronisation/race-conditions.html"><strong aria-hidden="true">6.4.</strong> Race Conditions and Memory Models</a></li><li class="chapter-item expanded "><a href="synchronisation/semaphores.html"><strong aria-hidden="true">6.5.</strong> Semaphores</a></li><li class="chapter-item expanded "><a href="synchronisation/monitors.html"><strong aria-hidden="true">6.6.</strong> Monitors</a></li><li class="chapter-item expanded "><a href="synchronisation/deadlocks.html"><strong aria-hidden="true">6.7.</strong> Deadlocks</a></li></ol></li><li class="chapter-item expanded "><a href="memory-management.html"><strong aria-hidden="true">7.</strong> Memory Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="memory-management/logical-physical.html"><strong aria-hidden="true">7.1.</strong> Logical vs. Physical Address Space</a></li><li class="chapter-item expanded "><a href="memory-management/allocation-and-protection.html"><strong aria-hidden="true">7.2.</strong> Allocation and Protection</a></li><li class="chapter-item expanded "><a href="memory-management/virtual-memory.html"><strong aria-hidden="true">7.3.</strong> Virtual Memory with Paging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="memory-management/virtual-memory/paging.html"><strong aria-hidden="true">7.3.1.</strong> Paging</a></li><li class="chapter-item expanded "><a href="memory-management/virtual-memory/segmentation.html"><strong aria-hidden="true">7.3.2.</strong> Segmentation</a></li></ol></li><li class="chapter-item expanded "><a href="memory-management/linux.html"><strong aria-hidden="true">7.4.</strong> Linux Virtual Memory</a></li><li class="chapter-item expanded "><a href="memory-management/demand-paging.html"><strong aria-hidden="true">7.5.</strong> Demand Paging</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="memory-management/demand-paging/cow-mmap.html"><strong aria-hidden="true">7.5.1.</strong> Copy-on-Write (COW) and Memory Mapped Files</a></li><li class="chapter-item expanded "><a href="memory-management/demand-paging/page-replacement.html"><strong aria-hidden="true">7.5.2.</strong> Page Replacement</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="device-management.html"><strong aria-hidden="true">8.</strong> Device Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="device-management/io-layering.html"><strong aria-hidden="true">8.1.</strong> I/O Layering</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="device-management/io-layering/interrupt-handler.html"><strong aria-hidden="true">8.1.1.</strong> Interrupt Handler Layer</a></li><li class="chapter-item expanded "><a href="device-management/io-layering/device-driver.html"><strong aria-hidden="true">8.1.2.</strong> Device Driver Layer</a></li><li class="chapter-item expanded "><a href="device-management/io-layering/device-independent-os-software.html"><strong aria-hidden="true">8.1.3.</strong> Device Independent OS Software Layer</a></li><li class="chapter-item expanded "><a href="device-management/io-layering/user-level-io-interface.html"><strong aria-hidden="true">8.1.4.</strong> User-Level I/O Interface Layer</a></li></ol></li><li class="chapter-item expanded "><a href="device-management/device-drivers.html"><strong aria-hidden="true">8.2.</strong> Device Drivers</a></li><li class="chapter-item expanded "><a href="device-management/blocking-vs-non-blocking-io.html"><strong aria-hidden="true">8.3.</strong> Blocking vs. Non-Blocking I/O</a></li><li class="chapter-item expanded "><a href="device-management/linux-io-api.html"><strong aria-hidden="true">8.4.</strong> Linux I/O API</a></li></ol></li><li class="chapter-item expanded "><a href="disk-management.html"><strong aria-hidden="true">9.</strong> Disk Management</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="disk-management/disk-scheduling.html"><strong aria-hidden="true">9.1.</strong> Disk Scheduling</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">Operating Systems</h1>

                    <div class="right-buttons">
                        
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="processes"><a class="header" href="#processes">Processes</a></h1>
<p>A process is an instance of a program being executed (a running program). They allow for a single processor to run multiple programs &quot;simulatneously&quot;. Each process runs on a virtual CPU, and the real CPU can use this to run any single process. Effectively, the single CPU has been divided into multiple virtual CPUs.</p>
<h2 id="why-have-processes"><a class="header" href="#why-have-processes">Why have Processes?</a></h2>
<p>They:</p>
<ul>
<li>provide an illusion of concurrency (more on this later).</li>
<li>provide isolation between programs (each process has its own address space).</li>
<li>simplify programming (programs don't have to worry about other programs).</li>
<li>allow for better utilisation of resources (different processes require different resources at certain times).</li>
</ul>
<h2 id="time-slicing-for-concurrency"><a class="header" href="#time-slicing-for-concurrency">Time-Slicing for Concurrency</a></h2>
<p>An OS can switch the current running process every few milliseconds such that every process can have CPU time. This is done using a CPU scheduler, and it can be used to provide pseudo concurrency.</p>
<h2 id="types-of-concurrency"><a class="header" href="#types-of-concurrency">Types of Concurrency</a></h2>
<ul>
<li><strong>Pseudo Concurrency</strong>: a single processor switches between processes by interleaving their runtimes. Overtime this can give the illusion of concurrent execution.</li>
<li><strong>Real Concurrency</strong>: multiple processors or CPU cores are used to run multiple processes in parallel.</li>
</ul>
<h2 id="fairness"><a class="header" href="#fairness">Fairness</a></h2>
<p>Fairness is the concept that the CPU scheduler switches fairly between processes. This means that every process should have equal CPU time, or more generally they should have appropriate CPU times determined by each processes priority and workload.</p>
<h2 id="context-switches"><a class="header" href="#context-switches">Context Switches</a></h2>
<p>A context switch is when a processor switches from executing one process to another.</p>
<p>An OS may switch either periodically or in reponse to certain events / interrupts (such as I/O completion). Context switches are not pre-determined because the events causing them are non-deterministic.</p>
<p>Since processes will need to be restarted safely when being switched to, all relevant information (e.g. register values) must be stored when they are switched away from. This is done by storing the data in a process descriptor or a process control block (PCB), which is kept inside a process table.</p>
<p>Context switches are expensive. The process state needs to be saved / restored and CPU caches (including translation lookaside buffer (TLB)) will be lost. It is important for an OS to avoid unnecessary context switches.</p>
<h2 id="process-control-block-pcb"><a class="header" href="#process-control-block-pcb">Process Control Block (PCB)</a></h2>
<p>Each process has it's own virtual machine: They have their own virtual CPU, address space (stack, heap, text, data, etc), open file descriptors, etc. Enough data must be stored such that all of this remains preserved after a context switch.</p>
<p>The information that gets stored on a context switch is:</p>
<ul>
<li><strong>Registers</strong>: program counter (PC), page table register, stack pointer, etc.</li>
<li><strong>Process management info</strong>: process ID (PID), parent process, process group, priority, CPU used, etc.</li>
<li><strong>File management info</strong>: root directory, working directory, open file descriptors, etc.</li>
</ul>
<h2 id="process-creation"><a class="header" href="#process-creation">Process Creation</a></h2>
<p>There are two types of processes:</p>
<ul>
<li><strong>Foreground</strong>: processes that interact with users.</li>
<li><strong>Background</strong>: daemons (e.g. handling incoming mail, printing requests, etc).</li>
</ul>
<p>Processes are created on:</p>
<ul>
<li>system initialisation.</li>
<li>user request.</li>
<li>system calls by a running process.</li>
</ul>
<p>Processes terminated can be caused by:</p>
<ul>
<li><strong>Normal Completion</strong>: when the process completes the execution of its body.</li>
<li><strong>System Calls</strong>: e.g. <code>exit()</code> in UNIX, <code>ExitProcess()</code> in Windows.</li>
<li><strong>Abnormal Exit</strong>: when the process runs into an error or unhandled exception.</li>
<li><strong>Aborted</strong>: when another process overrules its execution (e.g. killed from terminall).</li>
<li><strong>Never</strong>: some processes run in an endless loop and never terminate unless an error occurs (e.g. most web servers).</li>
</ul>
<h2 id="process-hierarchies"><a class="header" href="#process-hierarchies">Process Hierarchies</a></h2>
<p>UNIX allows for processes to form hierarchies (e.g. parent, child, child's child, etc).</p>
<p>Windows has no notion of process hierarchy. Instead when a process is created its parent is given a handle token to control it. This handle can be passed around to other processes.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        
                            <a rel="prev" href="introduction.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                        

                        
                            <a rel="next" href="processes/unix.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                
                    <a rel="prev" href="introduction.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                

                
                    <a rel="next" href="processes/unix.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        

    </body>
</html>
